{% extends "base.html" %}

{% block title %}Best Restaurants in Quezon City{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <!-- Main Content -->
        <div class="col-12">
            <header class="cuisine-header mb-4">
                <h1 class="section-title">Top Restaurants Near You</h1>
                <p class="lead text-muted">Discover amazing restaurants near you</p>
            </header>

            <!-- Restaurant List -->
            <div class="row g-4">
                {% for restaurant in df[:12] %}
                <div class="col-md-4">
                    <div class="restaurant-card h-100">
                        <div class="restaurant-image-wrapper">
                            <img src="{{ restaurant.photo_url }}" 
                                 class="restaurant-image" 
                                 alt="{{ restaurant.name }}"
                                 onerror="this.onerror=null; this.src='{{ url_for('static', filename='cuisine-images/default.svg', _external=True) }}';">
                            {% if restaurant.price %}
                            <div class="price-badge">{{ '‚Ç±' * restaurant.price|int }}</div>
                            {% endif %}
                            {% if restaurant.top_pick %}
                            <div class="top-pick-badge">TOP PICK</div>
                            {% endif %}
                            {% if restaurant.jacky_pick %}
                            <div class="jacky-pick-badge">JACKY'S PICK</div>
                            {% endif %}
                        </div>
                        <div class="card-body p-2">
                            <h2 class="restaurant-name mb-1">{{ restaurant.name }}</h2>
                            <div class="rating-reviews mb-1">
                                <div class="stars d-inline-block">
                                    {% for _ in range(restaurant.rating|round|int) %}
                                    <i class="fas fa-star text-warning"></i>
                                    {% endfor %}
                                </div>
                                <span class="text-muted">({{ restaurant.reviews|int }} reviews)</span>
                            </div>
                            <div class="restaurant-details">
                                <p class="address mb-1">
                                    <i class="fas fa-map-marker-alt text-muted me-1"></i>
                                    {{ restaurant.full_address }}
                                </p>
                                {% if restaurant.phone %}
                                <p class="phone mb-1">
                                    <i class="fas fa-phone text-muted me-1"></i>
                                    {{ restaurant.phone }}
                                </p>
                                {% endif %}
                                {% if restaurant.features %}
                                <div class="features mb-1">
                                    {% if 'Delivery' in restaurant.features %}
                                    <span class="badge feature-badge delivery">
                                        <i class="fas fa-motorcycle me-1"></i>Delivery
                                    </span>
                                    {% endif %}
                                    {% if 'Takeout' in restaurant.features %}
                                    <span class="badge feature-badge takeout">
                                        <i class="fas fa-shopping-bag me-1"></i>Takeout
                                    </span>
                                    {% endif %}
                                    {% if 'Dine-in' in restaurant.features %}
                                    <span class="badge feature-badge dine-in">
                                        <i class="fas fa-utensils me-1"></i>Dine-in
                                    </span>
                                    {% endif %}
                                </div>
                                {% endif %}
                                
                                <div class="amenities mb-2">
                                    {% if restaurant.wheelchair_accessible %}
                                    <span class="badge feature-badge wheelchair">
                                        <i class="fas fa-wheelchair me-1"></i>Wheelchair Accessible
                                    </span>
                                    {% endif %}
                                    {% if restaurant.good_for_kids %}
                                    <span class="badge feature-badge kids">
                                        <i class="fas fa-child me-1"></i>Good for Kids
                                    </span>
                                    {% endif %}
                                    {% if restaurant.free_wifi %}
                                    <span class="badge feature-badge wifi">
                                        <i class="fas fa-wifi me-1"></i>Free Wi-Fi
                                    </span>
                                    {% endif %}
                                    {% if restaurant.high_chairs %}
                                    <span class="badge feature-badge high-chairs">
                                        <i class="fas fa-baby me-1"></i>High Chairs
                                    </span>
                                    {% endif %}
                                </div>
                            </div>
                            
                            <div class="mt-0">
                                {% if restaurant.site %}
                                <a href="{{ restaurant.site }}" target="_blank" rel="nofollow" class="btn btn-outline-danger">
                                    <i class="fas fa-external-link-alt me-1"></i>
                                    Visit Website
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Cuisines Section -->
    <section class="cuisines-section mt-5">
        <h2 class="section-title">Popular Cuisines in Quezon City</h2>
        <div class="cuisine-tags">
            {% for cuisine, count in cuisine_counts.items() %}
                <a href="/cuisine/{{ cuisine|lower|replace(' ', '-') }}" class="cuisine-tag">
                    {{ cuisine }}
                    {% if cuisine == 'Fast Food' %}üçî
                    {% elif cuisine == 'Pizza' %}üçï
                    {% elif cuisine == 'Japanese' %}üéå
                    {% elif cuisine == 'Chinese' %}ü•¢
                    {% elif cuisine == 'Indian' %}üçõ
                    {% elif cuisine == 'Italian' %}üçù
                    {% elif cuisine == 'Seafood' %}üêü
                    {% elif cuisine == 'Korean' %}üçú
                    {% elif cuisine == 'Thai' %}üçú
                    {% elif cuisine == 'Vietnamese' %}üçú
                    {% elif cuisine == 'American' %}üóΩ
                    {% elif cuisine == 'Mexican' %}üåÆ
                    {% elif cuisine == 'Mediterranean' %}ü•ô
                    {% elif cuisine == 'Breakfast' %}üç≥
                    {% elif cuisine == 'Burger' %}üçî
                    {% elif cuisine == 'Chicken' %}üçó
                    {% elif cuisine == 'Dessert' %}üç∞
                    {% elif cuisine == 'Bar' %}üç∫
                    {% elif cuisine == 'Coffee' %}‚òï
                    {% elif cuisine == 'Milk Tea' %}üßã
                    {% elif cuisine == 'Buffet' %}üç±
                    {% elif cuisine == 'Vegetarian' %}ü•ó
                    {% elif cuisine == 'Vegan' %}ü•¨
                    {% elif cuisine == 'Steak' %}ü•©
                    {% elif cuisine == 'BBQ' %}üçñ
                    {% elif cuisine == 'Sushi' %}üç£
                    {% elif cuisine == 'Ramen' %}üçú
                    {% elif cuisine == 'Filipino' %}üçö
                    {% elif cuisine == 'French' %}üóº
                    {% elif cuisine == 'Greek' %}üè∫
                    {% elif cuisine == 'Spanish' %}üíÉ
                    {% elif cuisine == 'Turkish' %}ü•ô
                    {% elif cuisine == 'Lebanese' %}ü•ô
                    {% elif cuisine == 'Malaysian' %}üçú
                    {% elif cuisine == 'Indonesian' %}üçú
                    {% elif cuisine == 'Wine Bar' %}üç∑
                    {% elif cuisine == 'Sandwich' %}ü•™
                    {% elif cuisine == 'Bakery' %}ü•ñ
                    {% elif cuisine == 'Ice Cream' %}üç¶
                    {% elif cuisine == 'Juice Bar' %}üßÉ
                    {% elif cuisine == 'Food Court' %}üè™
                    {% else %}üçΩÔ∏è{% endif %}
                    ({{ count }})
                </a>
            {% endfor %}
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section mt-5">
        <h2 class="section-title">Frequently Asked Questions About Quezon City Food</h2>
        <div class="faq-list mt-4">
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <h3>What are the best restaurants in Quezon City?</h3>
                    <span class="faq-arrow">‚ñº</span>
                </div>
                <div class="faq-answer">
                    <p>The best restaurants in Quezon City are ranked based on customer ratings, reviews, and overall popularity. Our top-rated establishments offer a diverse range of cuisines, from local Filipino favorites to international dishes. You can find detailed ratings and reviews for each restaurant on our platform.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <h3>How can I find restaurants near me in Quezon City?</h3>
                    <span class="faq-arrow">‚ñº</span>
                </div>
                <div class="faq-answer">
                    <p>You can easily find nearby restaurants by using our search filters. Simply select your preferred cuisine, price range, and other preferences to discover restaurants in your area. Each listing includes the restaurant's address and contact information for your convenience.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    <h3>What types of cuisine are available in Quezon City?</h3>
                    <span class="faq-arrow">‚ñº</span>
                </div>
                <div class="faq-answer">
                    <p>Quezon City offers a wide variety of cuisines to suit every taste. You'll find traditional Filipino restaurants, Asian cuisines like Japanese, Korean, and Chinese, Western options including American and Italian, and many more. Our platform helps you discover these diverse dining options easily.</p>
                </div>
            </div>
        </div>
    </section>
</div>

<style>
    .cuisine-header {
        border-bottom: 2px solid #d32323;
        padding-bottom: 1rem;
        margin-bottom: 2rem;
    }

    .restaurant-card {
        border: none;
        border-radius: 8px;
        overflow: hidden;
        transition: all 0.3s ease;
        background: white;
        height: 100%;
        display: flex;
        flex-direction: column;
        box-shadow: 0 4px 16px rgba(0,0,0,0.18);
    }

    .restaurant-card:hover {
        border: 2px solid #d32323;
        box-shadow: 0 8px 24px rgba(211,35,35,0.15);
        transform: translateY(-5px);
    }

    .restaurant-image-wrapper {
        position: relative;
        height: 200px;
        overflow: hidden;
    }

    .restaurant-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .price-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: rgba(108, 117, 125, 0.95);
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: 600;
        font-size: 0.9rem;
        z-index: 2;
    }

    .top-pick-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #d32323;
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: 600;
        font-size: 0.9rem;
        z-index: 2;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .jacky-pick-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #d32323;
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-weight: 600;
        font-size: 0.9rem;
        z-index: 2;
    }

    .card-body {
        padding: 0.75rem;
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .restaurant-name {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: #2d2e2f;
    }

    .stars {
        font-size: 0.9rem;
        margin-right: 5px;
        color: #ffd700;
    }

    .address, .phone {
        margin-bottom: 0.15rem;
        font-size: 0.9rem;
    }

    .btn-outline-danger {
        color: white;
        background-color: #d32323;
        border-color: #d32323;
        padding: 4px 16px;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.3s ease;
        display: inline-block;
    }

    .btn-outline-danger:hover {
        background-color: #b61d1d;
        border-color: #b61d1d;
        color: white;
    }

    .restaurant-details {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        gap: 0.15rem;
    }

    .restaurant-details i {
        width: 16px;
    }

    .features .badge {
        font-weight: 500;
        font-size: 0.85rem;
        padding: 4px 8px;
        margin-right: 2px;
        margin-bottom: 2px;
        border-radius: 16px;
        display: inline-flex;
        align-items: center;
    }

    .feature-badge {
        font-size: 0.85rem;
        padding: 4px 8px;
        margin-right: 2px;
        margin-bottom: 2px;
        border-radius: 16px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        height: 24px;
    }

    .feature-badge i {
        margin-right: 4px;
        font-size: 0.85rem;
    }

    .feature-badge.delivery {
        background-color: #FF6B6B;
        color: white;
    }

    .feature-badge.takeout {
        background-color: #4ECDC4;
        color: white;
    }

    .feature-badge.dine-in {
        background-color: #45B7D1;
        color: white;
    }

    .feature-badge.wheelchair {
        background-color: #6C5CE7;
        color: white;
    }

    .feature-badge.kids {
        background-color: #FFA62B;
        color: white;
    }

    .feature-badge.wifi {
        background-color: #A8E6CF;
        color: #2D3436;
    }

    .feature-badge.high-chairs {
        background-color: #FFB5E8;
        color: #2D3436;
    }

    .feature-badge:hover {
        transform: translateY(-2px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .features {
        margin-bottom: 1px;
    }

    .amenities {
        display: flex;
        flex-wrap: wrap;
        gap: 2px;
        margin-bottom: 4px;
    }

    .faq-section {
        margin-top: 4rem;
        padding: 2rem 0;
    }

    .faq-section .section-title {
        font-size: 2rem;
        font-weight: 600;
        color: #333;
        position: relative;
        padding-bottom: 15px;
        margin-bottom: 30px;
        display: inline-block;
    }

    .faq-section .section-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background-color: #d32323;
    }

    .faq-list {
        max-width: 900px;
    }

    .faq-item {
        border-bottom: 1px solid #e8e8e8;
    }

    .faq-question {
        padding: 1.5rem 0;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .faq-question h3 {
        font-size: 1.1rem;
        font-weight: 500;
        color: #333;
        margin: 0;
    }

    .faq-arrow {
        font-size: 0.8rem;
        color: #d32323;
        transition: transform 0.3s ease;
    }

    .faq-item.active .faq-arrow {
        transform: rotate(180deg);
    }

    .faq-answer {
        display: none;
        padding-bottom: 1.5rem;
        color: #666;
        line-height: 1.6;
    }

    .faq-item.active .faq-answer {
        display: block;
    }

    .mt-0 {
        margin-top: 0;
        text-align: center;
    }

    @media (max-width: 768px) {
        .restaurant-image-wrapper {
            height: 150px;
        }

        .restaurant-name {
            font-size: 1.1rem;
        }

        .restaurant-details {
            font-size: 0.9rem;
        }

        .faq-section {
            padding: 1rem;
        }

        .faq-section .section-title {
            font-size: 1.5rem;
        }

        .faq-question h3 {
            font-size: 1rem;
        }
    }

    .cuisines-section {
        padding: 2rem 0;
        background-color: #f8f9fa;
        border-radius: 8px;
    }

    .cuisine-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        padding: 1rem;
    }

    .cuisine-tag {
        background: white;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 0.75rem 1rem;
        text-align: center;
        text-decoration: none;
        color: #333;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .cuisine-tag:hover {
        transform: translateY(-5px);
        border-color: #d32323;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .cuisine-icon {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
    }

    .cuisine-name {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0 0 0.5rem 0;
        color: #2d2e2f;
    }

    .cuisine-count {
        font-size: 0.9rem;
        color: #666;
    }

    @media (max-width: 768px) {
        .cuisine-tag {
            padding: 0.75rem;
        }

        .cuisine-icon {
            font-size: 2rem;
        }

        .cuisine-name {
            font-size: 1rem;
        }
    }
</style>

<script>
function toggleFaq(element) {
    const faqItem = element.parentElement;
    const wasActive = faqItem.classList.contains('active');
    
    // Close all FAQ items
    document.querySelectorAll('.faq-item').forEach(item => {
        item.classList.remove('active');
    });
    
    // Toggle the clicked item
    if (!wasActive) {
        faqItem.classList.add('active');
    }
}
</script>
{% endblock %} 